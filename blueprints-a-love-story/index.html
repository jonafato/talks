<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Blueprints: A Love Story</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="hovercraft.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress"><div class="step" step="0" data-x="0" data-y="0"><h1 id="blueprints">Blueprints</h1><p>A Love Story</p></div><div class="step" step="1" data-x="1600" data-y="0"><h1 id="what-s-a-blueprint">What's a Blueprint?</h1><blockquote><p>Blueprints are the recommended way to implement larger or more pluggable applications in Flask 0.7 and later.</p></blockquote><div class="cite"><span class="cite_label">Source: </span><cite>Flask source code</cite></div></div><div class="step" step="2" data-x="3200" data-y="0"><h1 id="id1">What's a Blueprint?</h1><blockquote><p>A Blueprint object works similarly to a Flask application object, but it is not actually an application. Rather it is a blueprint of how to construct or extend an application.</p></blockquote><div class="cite"><span class="cite_label">Source: </span><cite>Flask docs</cite></div></div><div class="step" step="3" data-x="4800" data-y="0"><h1 id="id2">What's a Blueprint?</h1><blockquote><p>Blueprints are "subapplications" that encapsulate related logic and the only way to sanely grow an application.</p></blockquote><div class="cite"><span class="cite_label">Source: </span><cite>Me</cite></div></div><div class="step" step="4" data-x="6400" data-y="0"><h1 id="an-analogy-to-django">An Analogy to Django</h1><p>Flask Application &#x2245; Django Project</p><p>Blueprint &#x2245; Django Application</p></div><div class="step" step="5" data-x="8000" data-y="0"><h1 id="why-use-blueprints">Why Use Blueprints?</h1><ul><li>Portable and reusable code</li><li>Encourages manageable project structure</li><li>Makes your code DRYer</li></ul></div><div class="step" step="6" data-x="9600" data-y="0"><h1 id="how-flask-applications-grow">How Flask Applications Grow</h1><p>A single file containing most of your application code</p></div><div class="step" step="7" data-x="11200" data-y="0"><h1 id="id3">How Flask Applications Grow</h1><p>A few files representing your MVC structure</p></div><div class="step" step="8" data-x="12800" data-y="0"><h1 id="id4">How Flask Applications Grow</h1><dl><dt>Blueprints!</dt><dd><ul><li>Models, views, and templates for each Blueprint</li><li>Blueprints get reused between applications</li></ul></dd></dl></div><div class="step" step="9" data-x="14400" data-y="0"><h1 id="examples">Examples</h1><ul><li>The official <a href="https://github.com/mitsuhiko/flask/wiki/Large-app-how-to#first-view">large app how to</a></li><li>Matt Wright's <a href="http://mattupstate.com/python/2013/06/26/how-i-structure-my-flask-applications.html#s2b">notes</a> and <a href="https://github.com/mattupstate/overholt/tree/master/overholt/api">examples</a> on the subject</li></ul></div><div class="step" step="10" data-x="16000" data-y="0"><h1 id="converting-your-code">Converting Your Code</h1><p>Change this:</p><pre class="highlight code python"><span class="kn">from</span> <span class="nn">..core</span> <span class="kn">import</span> <span class="n">app</span>

<span class="o">...</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="s">'/users/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">user_list</span><span class="p">():</span>
    <span class="o">...</span></pre></div><div class="step" step="11" data-x="17600" data-y="0"><h1 id="id6">Converting Your Code</h1><p>To this:</p><pre class="highlight code python"><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Blueprint</span>

<span class="n">bp</span> <span class="o">=</span> <span class="n">Blueprint</span><span class="p">(</span><span class="s">'users'</span><span class="p">,</span> <span class="n">__name__</span><span class="p">,</span> <span class="n">template_folder</span><span class="o">=</span><span class="s">'templates'</span><span class="p">)</span>

<span class="o">...</span>

<span class="nd">@bp.route</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">user_list</span><span class="p">():</span>
    <span class="o">...</span></pre></div><div class="step" step="12" data-x="19200" data-y="0"><h1 id="id7">Converting Your Code</h1><p>And add this:</p><pre class="highlight code python"><span class="kn">from</span> <span class="nn">.users.views</span> <span class="kn">import</span> <span class="n">bp</span> <span class="k">as</span> <span class="n">user_bp</span>

<span class="o">...</span>

<span class="n">app</span><span class="o">.</span><span class="n">register_blueprint</span><span class="p">(</span><span class="n">user_bp</span><span class="p">,</span> <span class="n">url_prefix</span><span class="o">=</span><span class="s">'/users'</span><span class="p">)</span></pre></div><div class="step" step="13" data-x="20800" data-y="0"><h1 id="considerations">Considerations</h1><ul><li>What about my DB?</li><li>My code depends on other blueprints!</li></ul></div><div class="step" step="14" data-x="22400" data-y="0"><h1 id="blueprints-all-the-way-down">Blueprints All The Way Down</h1><ul><li><a href="https://github.com/mitsuhiko/flask/issues/593">Issue 593</a></li><li><a href="https://github.com/mitsuhiko/flask/pull/750">Pull Request 750</a></li></ul></div><div class="step" step="15" id="lastpage" data-x="24000" data-y="0"><h1 id="fin">FIN.</h1><p>(Questions?)</p></div></div><div id="hovercraft-help" class="hide"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Left, Down, Page Down</th><td>Next slide</td></tr><tr><th>Right, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>